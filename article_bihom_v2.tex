% !TXS template
\documentclass[english]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[a4paper]{geometry}
\usepackage{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage[backend=bibtex]{biblatex}
\usepackage{csquotes}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{hyperref}

\addbibresource{biblio.bib}

\newtheorem{proposition}{Proposition}[section]
\newtheorem{definition}{Definition}[section]
\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{example}{Example}[section]

\newcommand{\Mac}[3]{{Mac_{#1, #2}(\mathcal{#3})}}
\newcommand{\Mact}[3]{{\widetilde{Mac}_{#1, #2}(\mathcal{#3})}}

\newcommand{\propositionTitre}[2]{
	\begin{proposition}[#1]
		#2
	\end{proposition}
}

\author{Paul Mekhail\\ \textbf{Encadrante:} Sorina Ionica}

\title{Ce que j'ai compris jusqu'à maintenant\\Début de rapport ?}

\begin{document}
	\maketitle
	
	\section{Introduction}
		The MPC in the head paradigm is a new framework introduced in \cite{IKOS07} which is in vogue recently as we saw in NIST's second round competition for post-quantum signature schemes where 5 of the 14 candidates are based on this paradigm.
		The general idea is to use a NP-relation $\mathcal{R}(x, w)$ to obtain a ZK-protocol in which a prover $\mathcal{P}$ convinces a verifier $\mathcal{V}$ that she knows a valid witness $w$ for a given (public) value of $x$ without revealing any information about $x$.
		In \cite{HJ23}, the authors introduce a problem called subfield bilinear collision problem (SBC) which originates from the discrete logarithm problem and constructed a post-quantum signature scheme based on this problem using the MPCitH framework.
		The goal of this internship is to perform a cryptanalysis of this signature scheme and try to improve it.
		
	\section{Preliminaries and notations}
		In this section, we introduce some standard notations of the field and notions that we will use.
		
		\subsubsection{Notations}
		
		\begin{itemize}
			\item Let $\mathbb{F}$ be a finite field and $\mathbb{K}$ a field not necessarily finite. 
			\item We denote the multivariate polynomial ring defined over a field in $n$ variables $\mathbb{K}[x_1,\dots,x_n] = R$ where $n$ is a positive integer.
			\item We will use the standard notation for matrix multiplication complexity for a square matrix of size $n$, $\mathcal{O}(n^\omega)$,
			where $2 \leq \omega \leq 3$.
			\item Let $R_{s}$ be the polynomials of total degree $s$. $I_{s} = I \cap R_{s}$.
		\end{itemize}
		
		\subsection{Gröbner basis theory}
		Gröbner basis theory was first introduced by Buchberger in his thesis \cite{Buc} and he gave an algorithm to compute the Gröbner basis of an ideal.
		Gröbner basis algorithms like Buchberger's Algorithm \cite{Buc}, are used to find solutions for polynomial systems using algebraic geometry tools. For a gentle introduction to this subject \cite{CLS}.
		
		In \cite{Lazard83}, Lazard introduced the connection between linear algebra and Gröbner basis theory via the usage of Macaulay matrices \cite{Mac} which is defined as follows.
		
		\begin{definition}
			Let $\prec$ be an admissible monomial ordering on a given ring $R = \mathbb{K}[x_1,\dots,x_n]$ where $\mathbb{K}$ is a field. Given a sequence of homogeneous (resp. affine) polynomials $\mathcal{F} = (f_1,\dots,f_m) \in R$, we associate to it the Macaulay matrix of degree $D$ (resp. $\leq D$), denoted by $\Mac{D}{m}{\mathcal{F}}$ (resp. $\Mac{\leq D}{m}{\mathcal{F}}$), and defined as follows: the columns of the matrix are indexed by the monomials of degree $D$ (resp. $\leq D$) sorted in decreasing order from the left to right using the defined monomial ordering. Each row of the matrix is labeled by a tag, also called signature, ($u, f_i$) where u is a monomial in $R$ and $f_i \in \mathcal{F}$ such that $deg(uf_i) = D$ (resp. $deg(uf_i) \leq D$), and the polynomial $uf_i$ is written as vector of coefficients of monomials on the row. We denote by $\Mact{D}{m}{F}$ (resp. $\Mact{\leq D}{m}{F}$) the row echelon form of $\Mac{D}{m}{\mathcal{F}}$ (resp. $\Mac{\leq D}{m}{\mathcal{F}}$) without swapping columns to preserve the monomial ordering.
		\end{definition}
		
		\subsection{Faugère's F5}
		
		The major "issue" of Gröbner basis algorithms is the reductions to 0 in the Macaulay matrix associated to a polynomial sequence $\Mac{D}{m}{F}$, because the size of the matrices are huge, multiple millions for practical examples,
		reductions to 0 can cost a lot during the linear algebra process. F5 \cite{F02} was a major improvement because it provided a criterion that avoided reduction to 0 during the linear algebra part for all regular sequences.
		
		\begin{proposition}[General criterion \cite{F02}]
			\label{F5Crit}
			Let $d_i$ be the total degree of $f_i$.
			$\forall j < m$, if a row of signature ($u, f_j$) in the matrix $\Mact{D-d_j}{m-1}{F}$ has as leading term $t'$, then the row ($t', f_m$) in $\Mac{D}{m}{F}$ (resp. $\Mac{\leq D}{m}{F}$) will reduce to 0 i.e. is a linear combination of the predecessors.
		\end{proposition}
		
		\begin{proposition}[Frobenius criterion \cite{F02}]
			\label{Frob}
			If a row of signature ($t, f_m$) in $\Mact{D - d_m}{m}{F}$ has as leading term $t'$, then the row ($t', f_m$) in $\Mac{D}{m}{F}$ (resp. $\Mac{\leq D}{m}{F}$) will reduce to 0 i.e. is a linear combination of the predecessors.
		\end{proposition}
		
		The Frobenius criterion \ref{Frob} is the analogue of the General criterion \ref{F5Crit} but for polynomial systems defined over $\mathbb{F}_2$.
		F5 crtierions remove the rows corresponding to the trivial syzygies, i.e. the syzygies $(s_1, \dots, s_m)$ such that for a row with signature $(s_i, f_i)$, we get $s_i \in \langle f_1,\dots,f_{i-1},f_{i+1},\dots,f_m \rangle$.
		
		Bardet introduced a variant of F5 Algorithm that is simple to understand and analyze called Matrix F5 in \cite{Bardet04}.
		We give the description of Matrix F5 Algorithm.
		
		\begin{algorithm}
			\caption{Matrix F5}\label{alg:matrix_f5}
			\begin{algorithmic}[1]
				\Require 
				\begin{tabular}[t]{@{}l@{}}
					$\left\{ 
					\begin{array}{l}
						m \text{ homogeneous polynomials } f_1, \dots, f_m \text{ of degree } d_1 \leq d_2 \leq \dots \leq d_m, \\
						D \text{ an integer}, \\
						\text{a monomial ordering } \prec
					\end{array}
					\right.$
				\end{tabular}
				\Ensure 
				\begin{tabular}[t]{@{}l@{}}
					$\left\{ 
					\begin{array}{l}
						G \text{ is a Gröbner basis of } \langle f_1,\dots,f_m \rangle.
					\end{array}
					\right.$
				\end{tabular}
				\State $G \gets {f_1,\dots,f_m}$
				\For{$d$ from $d_1$ to $D$}
					\State $\widetilde{Mac}_{d, 0} \gets$ matrix with 0 rows
					\For{$i$ from $1$ to $m$}
						\State Construct ${Mac}_{d, i}$ by adding to $\widetilde{Mac}_{d, i-1}$ the following rows:
						\If{$d_i = d$}
							\State add the row $f_i$ with signature $(1, f_i)$
						\EndIf
						\If{$d > d_i$}
							for all $f$ from $\widetilde{Mac}_{d, i-1}$ with signature $(e, f_i)$, such that $x_\lambda$ is the greatest variable of $e$, add the $n - \lambda + 1$ rows $x_\lambda f,x_{\lambda + 1}f,\dots,x_n f$ with the signatures $(x_\lambda e, f),(x_{\lambda + 1}e, f),\dots,(x_n e, f)$ except those who satisfy the F5 criterion with $((x_{\lambda + k}e, fi), \widetilde{Mac}_{d-d_i, i-1}$
						\EndIf
						\State Compute $\widetilde{Mac}_{d, i}$ the row echelon form of ${Mac}_{d, i}$
						\State Add to $G$ the polynomials corresponding to rows of $\widetilde{Mac}_{d, i}$ such that their leading
						\State monomials is different from the leading monomial of the row with 
						\State same signature in ${Mac}_{d, i}$
				 	\EndFor
				\EndFor
				\State \textbf{Return} $G$
			\end{algorithmic}
		\end{algorithm}
		
		\subsection{Hilbert series}
		Hilbert-Poincaré series (or just Hilbert series) is a very important tool in algebraic geometry to describe ideals and varieties and their dimensions.
		\begin{definition}[\cite{CLS}]
			Let $I$ be a homogeneous ideal in $R$. The affine Hilbert function of $I$ is the function on the nonnegative integers s defined by
			$$
				{}^a HF_{R/I}(s) = dim R_{s} / dim I_{s} = dim R_{s} - dim I_{s}.
			$$
		\end{definition}
		
		\begin{proposition}
			${}^a HF_{R/I}(s)$ is the number of monomials not in $I$ of total degree $s$.
		\end{proposition}
		\begin{proof}
			First note that the monomials ${x^\alpha | \alpha \leq s}$ is a basis of $R_{\leq s}$ as a vector space. We also have that ${x^\alpha | \alpha \leq s | x^\alpha \in I}$ is a basis of $I_{\leq s}$. Therefore, the monomials ${x^\alpha | \alpha \leq s | x^\alpha \notin I}$ are the ones missing to form a basis for $R$, so they form a basis for $R_{\leq s} / I_{\leq s}$ which concludes the proof.
		\end{proof}
		
		\begin{definition}
			Let I be a homogeneous ideal. The Hilbert series is defined as follows
			$$
					HS_{R/I}(t) = \sum_{m=0}^{\infty} HF_{R/I}(m) t^m.
			$$	
		\end{definition}
		
		The index of regularity is the smallest integer $s_0$ such that $HF_{R/I}(s_0)$ is equal to a certain polynomial called the Hilbert polynomial. We will denote $H(I)$ as the index or degree of regularity of I.
		
		Faugère showed that no reductions to 0 occur in the Macaulay matrix during the F5 algorithm \ref{alg:matrix_f5} until the degree of regularity \cite{F02}.
		
		\subsection{Semi-regularity}
		
		\subsection{Boolean systems}
		
	\section{Signature Scheme}
		\subsection{SBC Problem}
		The problem is the following: let $q$ be a prime power and two positive integers $k$, $n$.
		\newline
		Given two vectors $\vec{u}, \vec{v} \in (\mathbb{F}_{q^k})^n$, which are linearly independent overs $\mathbb{F}_q$, find two non-colinear vectors $\vec{x}, \vec{y} \in (\mathbb{F}_q)^n$ such that $$(\vec{u} \cdot \vec{x})(\vec{v} \cdot \vec{y}) = (\vec{u} \cdot \vec{y})(\vec{v} \cdot \vec{x})$$
		where $(\cdot)$ is the dot product between 2 vectors.
		We denote an instance of the SBC problem given by two vectors $\vec{u}, \vec{v} \in (\mathbb{F}_{q^k})^n$ by $\text{SBC}[\vec{u}, \vec{v}]$. If the vectors $\vec{x},\vec{y} \in (\mathbb{F}_q)^n$ are solution of $\text{SBC}[\vec{u},\vec{v}]$, we use the notation $(\vec{x}, \vec{y}) \in \text{SBC}[\vec{u}, \vec{v}]$.
		
		\subsection{NSBC}
		
		The authors also introduce a particular version of this problem called normalized SBC (NSBC) where $\vec{x}, \vec{y} \in (\mathbb{F}_q)^n$ and
		$\vec{x} = (\vec{x'}, 1, 0), \vec{y} = (\vec{y'}, 0, 1)$ to ensure that they are not colinear without needing to regenerate each time they are not.
 		
 		\subsection{Keys and parameters estimations}
		The public key of this signature scheme is $(\vec{u},\vec{v})$ and the private key is $(\vec{x}, \vec{y})$.
		The signature and verification protocol use the MPCitH paradigm, they are described in detail in \cite{HJ23} with proof of soundness, correctness and zero-knowledge.
		The authors estimate that a good parameter for NSBC problem to be computationally secure are $q = 2, n = 130, k = 257$ using complexity analysis of what they think is the best known cryptanalysis of such problem in \cite{FSS11}.
		
		\section{Cryptanalysis of the scheme}
		One of the known attacks given by the authors is through algebraic cryptanalysis.
		One can model the attack by taking $g$ as the following polynomial
		$$
		g(x_1,...,x_n,y_1,...,y_n) := (\vec{u} \cdot \vec{x})(\vec{v} \cdot \vec{y}) - (\vec{u} \cdot \vec{y})(\vec{v} \cdot \vec{x}).
		$$
		We consider
		$$
		g(x_1,..,x_{n-2},y_1,..,y_{n-2}) := (\sum_{i = 1}^{n-2}u_{i}x_{i} + u_{n-1})(\sum_{i = 1}^{n-2}v_{i}y_{i} + v_{n}) - (\sum_{i = 1}^{n-2}u_{i}y_{i} + u_{n})(\sum_{i = 1}^{n-2}v_{i}x_{i} + v_{n-1}).
		$$
		
		Then, one can perform a Weil descent on the polynomial $g$ because $\mathbb{F}_{q^k}$ is a $\mathbb{F}_q$-vector space and obtain the polynomial system
		

		\begin{align}
			g_1(x_1, \dots, x_{n-2},& y_1, \dots, y_{n-2}) = 0 \notag \\
			&\vdots \notag \\
			g_k(x_1, \dots, x_{n-2},& y_1, \dots, y_{n-2}) = 0 \notag
		\end{align}
		
		where $g_i$ are polynomials with coefficients in $\mathbb{F}_q$.
		
		The most straightforward cryptanalysis of this type of systems is to perform a Gröbner basis algorithm like Buchberger's algorithm \cite{Buc}, Faugère's F4 \cite{F99}, F5 \cite{F02} or their multiple variants \cite{EF19}.
		
		Huth and Joux cite a complexity result in \cite{FSS11} to argue their parameters choice, we will dive deeper into this article's results in a later section.

		\subsection{Algebraic cryptanalysis}
		
		Bardet showed in \cite{Bardet04} that F5 criterion removed reductions to 0 for semi-regular sequences until the degree $D$ which is the degree of regularity of $I$ which is the ideal generated by the polynomials of the system.
		
		\begin{theorem}[Theorem 3.2.10 in \cite{Bardet04}]
			Let $f_1,...,f_m$ a homogeneous sequence, such that $\langle f_1,...,f_m \rangle$ is 0-dimensional and
			$\prec$ an admissible graded monomial ordering. We have,
			\begin{itemize}
				\item[-] If the sequence is semi-regular, then no reductions to 0 are performed during the F5-matrix algorithm until the degree of regularity $D - 1$.
				\item[-] If there are no reductions to 0 during the F5-matrix algorithm until the degree $D - 1$, and if the matrix of degree D is full rank and is the first matrix to have more rows than columns, then the sequence is semi-regular and its index of regularity is $H(I) = D$.
			\end{itemize}
		\end{theorem}
		
		In \cite{BFS15}, the authors show that the complexity of computing the Gröbner basis of a semi-regular system $f_1,...,f_m \in \mathbb{K}[x_1,...,x_n]$ is $O\left(mD\binom{n+D-1}{D}^\omega \right)$.
		
		We will also need some properties of semi-regular sequences from \cite{Bardet04}
		
		\begin{proposition}[Proposition 3.2.5 in \cite{Bardet04}]\label{PropSemi}
			let $f_1,\dots,f_m$ a semi-regular homogeneous sequence, $f_i$ is of degree $d_i$. Then the following proprieties are verified:
			\begin{itemize}
				\item The sequence $f_1,\dots,f_m$ is semi-regular if and only if its Hilbert's series is the series $$S_{m, n}(z) = \sum_{d \geq 0}h_{d, m}(n)z^d = \prod_{i=1}^{m}(1-z^{d_i})/(1-z)^n.$$ $S_{m, n}(z)$ is called the generating series of $f_1,\dots,f_m$.
				\item The sequence $f_1,\dots,f_m$ is semi-regular on $\mathbb{F}_2$, if and only if its Hilbert series is the series $$S_{m, n}(z) = \sum_{d \geq 0}h_{d, m}(n)z^d = (1+z)^n/\prod_{i=1}^{m}(1+z^{d_i}).$$ $S_{m, n}(z)$ is called the generating series of $f_1,\dots,f_m$.
				\item Every permutation $f_{\sigma(1)},\dots,f_{\sigma(m)}$ is a semi-regular sequence.
				\item When the associated variety is zero-dimensional, $H(I)$ is characterized by
				$$
				\forall d < H(I), h_{d, m}(n) > 0 \text{ and } h_{H(I), m}(n) \leq 0.
				$$
				\item The sequence $f_1,\dots,f_m$ is semi-regular $\nRightarrow \forall i \in [1;m]$, the sequence $f_1,\dots,f_i$ is semi-regular. 
			\end{itemize}
		\end{proposition}
		
		We will also need the next definition of $\gamma$-semi-regularity.
		
		 \begin{definition}[Definition 4 of \cite{VID24}]
			Let $\mathcal{F} = {f_1,...,f_m}$ be a semi-regular sequence of polynomials in $\mathbb{F}_2[x_1,...,x_n]$ and let $0 \leq \gamma \leq 1$ such that $k = (1 - \gamma)n$. We say that this sequence is $\gamma$-strong semi-regular if
			$$
			\mathcal{S}(I) = \{(a_{k+1},...,a_n) \in \mathbb{F}_{2}^{n-k} |
			$$
			$$
			\{f_1(x_1,...,x_k,a_{k+1},...,a_n),...,f_m(x_1,...,x_k,a_{k+1},...,a_n)\} \text{ is not semi-regular}\}
			$$
			has cardinality $\mathcal{O}(2^{-\gamma n})$.
		\end{definition}
		
		When applying Macaulay matrix generation code from hpXbred \cite{BS23} on NSBC polynomial systems, we notice that they are not semi-regular when we only multiply by the $x$ variables or only by the $y$ variables. If we multiply by the $x$ variables and at least one $y$ variable, we get no reductions to 0 which means that the system could be semi-regular or $\gamma$-semi-regular.
		
		Notes pour moi: On a quelque chose de bizarre où si on prends la 2 de la proposition \ref{PropSemi}, on a pas semi-régularité voir rien de particulier. Mais si on prends la 1, donc oublier qu'on est sur $\mathbb{F}_2$, on a toujours pas de semi-regularité d'après la proposition, mais la 5 est vérifié avec la série generatrice, donc je soupçonne que la façon de laquelle sagemath calcule la série de hilbert est pas forcément correct, à vérifier avec des exemples de suites semi-regulière. Update: Il semblerait qu'avec des systèmes aléatoires, donc qui devrait être semi-régulier, sagemath contredit la 5 de \ref{PropSemi}. Donc il faut voir si la méthode .hilbert\_series est la bonne ou s'il faut utiliser autre chose. Update 2: Sage tronque la série de hilbert jusqu'au degré de régularité très certainement et ça correspond à la série génératrice mais seulement avec la formule en 1 de \ref{PropSemi} et non la 2 ce qui est pas normal vu qu'on est sur $\mathbb{F}_2$. Il est possible que ça soit la méthode de sage qui fait n'importe quoi quand on est sur $\mathbb{F}_2$. Après vérification, c'est bien ce que sagemath fait donc il prends pas en compte qu'on est sur $\mathbb{F}_2$.

		
		\subsection{Bilinear systems case}
		Our NSBC instances are quadratic systems that are bilinear in the variables of degree 2, overdetermined and can be semi-regular.
		
		\begin{definition}
			A homogeneous polynomial $f \in \mathbb{K}[x_1,\dots,x_{n_x},y_1,\dots,y_{n_y}]$ is called bilinear if we have:
			$$
				\forall \lambda, \mu \in \mathbb{K}, f(\lambda x_1,\dots,\lambda x_{n_x}, \mu y_1,\dots, \mu y_{n_y}) = \lambda \mu f(x_1,\dots,x_{n_x},y_1,\dots,y_{n_y}).
			$$
		\end{definition}
		
		A bilinear system is a polynomial system where each equation is a bilinear form.
		
		We will denote $n_x$ (resp. $n_y$) the number of variables in $x$ (resp. number of variables in $y$). In our case, $n_x = n_y = (m-1)/2$ and $m = k$. As we mentioned earlier, our polynomial systems can be semi-regular, so we get no reductions to 0 during the F5 algorithm using the Frobenius criterion for boolean polynomial systems until the Macaulay matrix of degree $D_{reg}$.
		
		The article \cite{FSS11} and the thesis \cite{Spaen2012} provide a new criterion for bilinear determined systems and a complexity analysis of their algorithm (the proofs in the end of \cite{FSS11} are not exact, the authors recommended to refer to \cite{Spaen2012} for better proofs) that can help more remove reductions to 0 in F5 Algorithm for bilinear systems which are not semi-regular.
		
		\subsubsection{Jacobian matrices and syzygies}
		First we will need to introduce some important notations.
		\begin{itemize}
			\item[-] Let $f_1,...,f_m \in R$ be a bilinear polynomial. We denote by $F_i$ the polynomial sequence $(f_1,...,f_i)$ and $I_i$ the ideal spanned by this sequence $\langle F_i \rangle$.
			\item[-] $jac_{x}(F_{i-1})$ (resp. $jac_{y}(F_{i-1})$) is the jacobian matrix with respect to the two subsets of variables $x_1,...,x_{n_x}$ (resp. $y_1,...,y_{n_y}$).
			\item[-] Let $M$ be a $l \times c$ matrix with $l > c$. We call maximal minors of $M$ the determinants of the $c \times c$ sub-matrices of $M$. We denote the maximal minors of $M$ by $MaxMinors(M)$.
			\item[-] $I_{i-1} : f_i$ is the ideal spanned by $\{g \in R \mid gf_i \in I_{i-1}\}$.
		\end{itemize}
		We will give important results of this article before discussing them further.
		
		\begin{theorem}[Theorem 2 in \cite{FSS11}]\label{theoremMaxMin}
			Let $i > n_x + 1$ (resp. $i > n_y + 1$) and let $s$ be a linear combination of maximal minors of $jac_{x}(F_{i-1})$ (resp. $jac_{y}(F_{i-1})$). Then $s \in I_{i-1} : f_i$.
		\end{theorem}
		
		As Theorem \ref{theoremMaxMin} indicates, reductions to 0 may also arise from the maximal minors of the jacobian matrix, so the signatures ($s, f_i$) where $s$ is a linear combination of maximal minors of $jac_{x}(F_{i-1})$ or $jac_{y}(F_{i-1})$ is a reduction to 0.
		This explains Algorithm \ref{alg:crit_calc} where we compute the maximal minors of jacobian matrices before applying Algorithm \ref{alg:reduc} where we compute linear combinations of these maximal minors.
		This means that Algorithm \ref{alg:crit_calc} computes all the signatures that will arise in reductions to 0 that involve the maximal minors of jacobian matrices instead of being incremental like F5 criterions \cite{F02}.
					
		\begin{algorithm}
			\caption{Reduce}\label{alg:reduc}
			\begin{algorithmic}[1]
				\Require A monomial ordering $\prec$ and $S$ a set of homogeneous polynomials and $q$ a degree.
				\Ensure $T$ a reduced set of homogeneous polynomials of degree $q$.
				\State $M \gets Mac_{\prec}(S, q)$.
				\State $M \gets RowEchelonForm(M)$.
				\State \textbf{Return} $T$ the set of polynomials corresponding to the rows of M.
			\end{algorithmic}
		\end{algorithm}
		
		 \begin{algorithm}
		 	\caption{BL\_Criterion}\label{alg:crit_calc}
		 	\begin{algorithmic}[1]
		 		\Require $m$ bilinear polynomials $f1,...f_m$ such that $m \leq n_x + n_y$.\newline $\prec$ a monomial ordering overs $R$.
		 		\Ensure $V$ a set of pairs $(h, f_i)$ such that $h \in I_{i-1} : f_i$ and $h \notin I_{i-1}$.
		 		\State $V \gets \emptyset$
		 		\For{$i$ from 2 to $m$}
					\If{$i > n_y$}
						\State $T \gets \mathbf{Reduce}(MaxMinors(jac_y(F_{i-1})), n_y + 1)$
						\For{$h$ in $T$}
							\State $V \gets V \cup \{(h, f_i)\}$
						\EndFor
					\EndIf
					\If{$i > n_x$}
						\State $T' \gets \mathbf{Reduce}(MaxMinors(jac_x(F_{i-1})), n_x + 1)$
						\For{$h$ in $T'$}
							\State $V \gets V \cup \{(h, f_i)\}$
						\EndFor
					\EndIf
				\EndFor
				\State \textbf{Return} $V$
		 	\end{algorithmic}
		 \end{algorithm}
		 
		 \begin{algorithm}
		 	\caption{BilinF5Criterion}\label{algo:crit}
		 	\begin{algorithmic}[1]
		 		\Require $(t, f_i)$ the signature of a row. \newline A matrix $M$ in row echelon form.
		 		\Ensure $True$ if the row will reduce to 0 otherwise $False$.
		 		\If{$t$ is the leading monomial of a row of $M$ \textbf{or}
		 		\newline $\exists (h, f_i) \in V$ such that $LM(h) = t$}
		 		\State \textbf{Return} $True$.
		 		\Else \textbf{ Return} $False$.
		 		\EndIf
		 	\end{algorithmic}
		 \end{algorithm}
		 
		 \begin{definition}[Definition 8 in \cite{FSS11}]
		 	Let $\prec$ be a monomial ordering such that its restriction to $\mathbb{K}[x_1,\dots,x_{n_x}]$ (resp. $\mathbb{K}[y_1,\dots,y_{n_y}]$) is the grevlex ordering. Let $m \leq n_x + n_y$ and $f_1,\dots,f_m$ be bilinear polynomials or $R$. We say that the polynomial sequence ($f_1,\dots,f_m$) is a \textit{bi-regular} sequence if $m = 1$ or if ($f_1,\dots,f_m$) is a \textit{bi-regular} sequence and
		 	$$
		 		LM(I_{m-1} : f_m) = \langle Monomials_{m - n_y - 2}^x(n_y + 1) \rangle + \langle Monomials_{m - n_x - 2}^y(n_x + 1) + LM(I_{m-1})\rangle.
		 	$$
		 \end{definition}
		 
		 The following theorem, ensures that there are no reductions to 0 with extended the F5 criterion. Ce théorème est en suspens pour utiliser une autre formulation sans utiliser la topologie de Zariski
		 
		 \begin{theorem}[Theorem 4 in \cite{FSS11}]
		 	Let $m, n_x, n_y \in \mathbb{N}$ such that $m < n_x + n_y$. If Conjecture 1 of \cite{FSS11} is true, then the set of bi-regular sequences $(f_1,...,f_m)$ contains a nonempty Zariski open set. Moreover, if $(f_1,...,f_m)$ is a bi-regular sequence, then there are no reductions to zero with the extended F5 criterion.
		 \end{theorem}
		 
		 Finally, the authors give the following corollary 
		 
		 \begin{corollary}[Corollary 3 in \cite{FSS11}]
		 The arithmetic complexity of computing a Gröbner basis of a generic bilinear system $f_1,...,f_{n_x + n_y}$ with the F5 algorithm is bounded by
		 $$\mathcal{O}\left(\binom{n_x + n_y + min(n_x + 1, n_y + 1)}{min(n_x + 1, n_y + 1)}^\omega\right).$$
		 \end{corollary}
		 
		 First, we can clearly see that the complexity of Algorithm \ref{alg:crit_calc} is exponential and we will show that in the following proposition.
		 
		 \begin{proposition}\label{complexCrit}
		 	The complexity of Algorithm \ref{alg:crit_calc} is
		 	$$
		 	\mathcal{O}\left(\left(\sum_{i = n_x}^{m} \binom{i}{n_x}n_x^{\omega} + \binom{2n_x + 1}{n_x}^\omega\right) + \left(\sum_{i = n_y}^{m} \binom{i}{n_y}n_y^{\omega} + \binom{2n_y + 1}{n_y}^\omega\right)\right).
		 	$$
		 \end{proposition}
		 
		 \begin{proof}
		 	First, if $i > n_y$ (resp. $i > n_x$), we construct that jacobian matrix $jac_y(F_{i-1})$ (resp. $jac_x(F_{i-1})$) which is of size $n_y \times n_y$ (resp. $n_x \times n_x$) for the first one and $m-1 \times n_y$ (resp. $m-1 \times n_x$) for the last one i.e. $i = m$. We suppose here that the construction of such matrices is free. Computing the $MaxMinors(jac_y(F_{i-1}))$ (resp. $MaxMinors(jac_x(F_{i-1}))$)means that we have to compute the determinants of all the sub-matrices of size $n_y \times n_y$ (resp. $n_x \times n_x$) and for a matrix $M$ of size $l \times c$ with $l > c$ there are $\binom{l}{c}$ sub-matrices of size $c \times c$, hence the term $\binom{i}{n_y}n_y^{\omega}$ in the sum if we suppose the complexity of computing the determinant of a square multivariate polynomial matrix of size $c \times c$ to be $\mathcal{O}(c^\omega)$, which is not the case but let's suppose the best case ever. faudrait trouver la vraie complexité de ça pour être plus juste.
		 	For now, we have a sequence of polynomials and we apply the algorithm \textbf{Reduce} on them with degree $n_y + 1$ (resp. $n_x + 1$).
		 	In \textbf{Reduce}, we construct the Macaulay matrix of the sequence of degree $n_y + 1$ (resp. $n_x + 1$) and compute it's row echelon form.
		 	The size of Macauly matrix is bounded by $\binom{n + D}{D}$ where D is the degree and n the number variables. So the complexity of \textbf{Reduce} is $$\mathcal{O}\left(\binom{n_y + n_y + 1}{n_y + 1}^\omega \right)$$ (resp. $$\mathcal{O}\left(\binom{n_x + n_x + 1}{n_x + 1}^\omega \right)$$). Hence the second term in the sum, because we call \textbf{Reduce} at each iteration of the for loop. We finally suppose that the iteration on the elements of the output of \textbf{Reduce} is negligible in the big $\mathcal{O}$ notation.
		 \end{proof}
		 
		 It's an asymptotic complexity which doesn't take into account the constant factor in implementations that could slow down a lot the algorithm.
		 We also recall that in our case with NSBC, $n_x = n_y$. So we get
		 $$
		 \mathcal{O}\left(2n_x^{\omega}\left(\sum_{i = n_x}^{m} \binom{i}{n_x} + \binom{2n_x + 1}{n_x}^\omega\right)\right).
		 $$
		 
		 Since we have quadratic systems, reductions to 0 won't appear before degree 4 of the Macaulay matrix. Also, in practice we are using $q=2$ and there's much better algorithms in the literature for boolean systems than basic Gröbner basis algorithms like F5. The best algorithm used at the moment is CrossBred \cite{JV17}. Most of the time in practical implementations, we stop at degree 4 of the Macaulay in pre-processing step. So, to know what advantage we could have if we use the extended F5 criterion, we will suppose the worst, that all of our entries will reduce to 0 at degree 4 of the Macaulay matrix, which is unlikely.
		 
		 In following, we will denote $n_x + n_y$ by simply $n$.
		 
		 If this case arises, the only computations that would be done are for extended F5 criterion. The complexity for F5-Matrix algorithm with only the Frobenius criterion \ref{Frob} is 
		 $$
		 \mathcal{O}\left(\binom{n + 4}{4}^\omega\right).
		 $$
		 If we only take into consideration the big O notation and not the constants, which is not realistic at all for efficient implementations to really break a cryptographic scheme, we get
		 \begin{equation}
		 Adv(n, m) = 2\left(\sum_{i = n/2}^{m}\binom{i}{n/2}\left(\frac{n}{2}\right)^\omega + \binom{n + 1}{n/2}^\omega\right) - \binom{n + 4}{4}^\omega.
		 \label{equation_complex}
		 \end{equation}
		 
		 Using the computer algebra system SageMath \cite{sagemath} to test numerically when using the F5 extended criterion of \cite{FSS11} becomes negligible compared to the computations of reductions to 0, we see experimentally that $Adv(10, 12) = 2498903$, i.e. the theoretical advantage becomes negligible and it would be advantageous to simply compute reductions to 0 instead of applying the F5 extended criterion. This number grows exponentially with $n$ and $m$. For those who wonder, what it would be the estimated theoretical advantage computing reductions to 0 for the parameters given by \cite{HJ23} $Adv(256, 257)$ is a 514 bit number.
		 
		 No need to say that it's useless to use the criterion as shown in \cite{FSS11} without adapting it to get an advantage.
		 This can be explained by the fact that the extended criterion computes reduced polynomials of degree $n_x$ and $n_y$ and in our case, $n_x$ and $n_y$ can be too big to compute. Maybe there could be a way to compute reduced polynomials of only degree 2 for our use case if we stop Macaulay matrix computations at degree 4 with our quadratic systems.
		 
		 As the authors of \cite{FSS11} noted at the end of their article, generic bilinear systems are regular. They didn't show that for overdetermined systems but we saw that experimentally but it's yet to be proven.
		 
		 Note pour moi-même, il faut maintenant essayer de réaliser une implémentation de ce critère en sage ou avec hpXbred \cite{BS23} et BeanPolE \cite{Bou24} pour voir comment ça se comporterait avec des petits systèmes et voir quel serait l'avantage ou le désavantage sachant que la supposition que toutes les lignes se réduisent à 0 est extrêment peu probable. Donc les lignes se réduisent pas à 0 quand on a les x et les y donc le paramètre v de hpXbred est strictement supérieur à $n_x$.
		 On peut ensuite utiliser XL \cite{CKPS00} avec l'implantation \cite{NNY17}
		 
		 
\printbibliography

\end{document}
